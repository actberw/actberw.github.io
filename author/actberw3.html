<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <!-- Set the viewport width to device width for mobile -->
    <meta name="viewport" content="width=device-width" />

    <title>记录一些工作中的笔记 - actberw</title>

    <link rel="stylesheet" href="../theme/css/normalize.css" />
    <link rel="stylesheet" href="../theme/css/foundation.min.css" />
    <link rel="stylesheet" href="../theme/css/style.css" />
    <link rel="stylesheet" href="../theme/css/pygments.css" />	
    <link rel="stylesheet" type="text/css" href="../theme/css/jqcloud.css" />
    <script src="../theme/js/vendor/custom.modernizr.js"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          "HTML-CSS": {
        styles: {
          ".MathJax .mo, .MathJax .mi": {color: "black ! important"}}
            },
              tex2jax: {inlineMath: [['$','$'], ['\\\\(','\\\\)']],processEscapes: true}
        });
    </script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="../theme/js/jqcloud-1.0.4.min.js"></script>
    
    <script type="text/javascript">
	var word_list = [
        {text: "gdt", weight: 0.0125, link: {href: "/tag/gdt.html"}},
        {text: "pelican", weight: 0.0125, link: {href: "/tag/pelican.html"}},
        {text: "random", weight: 0.05, link: {href: "/tag/random.html"}},
        {text: "zmap", weight: 0.0125, link: {href: "/tag/zmap.html"}},
        {text: "algorithm analysis", weight: 0.05, link: {href: "/tag/algorithm-analysis.html"}},
        {text: "unicode", weight: 0.0125, link: {href: "/tag/unicode.html"}},
        {text: "mysql", weight: 0.05, link: {href: "/tag/mysql.html"}},
        {text: "ext4", weight: 0.0125, link: {href: "/tag/ext4.html"}},
        {text: "umask", weight: 0.0125, link: {href: "/tag/umask.html"}},
        {text: "nmap", weight: 0.0125, link: {href: "/tag/nmap.html"}},
        {text: "ls", weight: 0.0125, link: {href: "/tag/ls.html"}},
        {text: "triangle", weight: 0.0125, link: {href: "/tag/triangle.html"}},
        {text: "object model", weight: 0.0125, link: {href: "/tag/object-model.html"}},
        {text: "python", weight: 0.1375, link: {href: "/tag/python.html"}},
        {text: "risc", weight: 0.0125, link: {href: "/tag/risc.html"}},
        {text: "apt", weight: 0.0125, link: {href: "/tag/apt.html"}},
        {text: "underscore", weight: 0.0125, link: {href: "/tag/underscore.html"}},
        {text: "bit", weight: 0.0125, link: {href: "/tag/bit.html"}},
        {text: "daemon", weight: 0.0125, link: {href: "/tag/daemon.html"}},
        {text: "signal", weight: 0.0125, link: {href: "/tag/signal.html"}},
        {text: "real mode", weight: 0.025, link: {href: "/tag/real-mode.html"}},
        {text: "binary search", weight: 0.0125, link: {href: "/tag/binary-search.html"}},
        {text: "ldt", weight: 0.0125, link: {href: "/tag/ldt.html"}},
        {text: "orphan", weight: 0.0125, link: {href: "/tag/orphan.html"}},
        {text: "prime number", weight: 0.0125, link: {href: "/tag/prime-number.html"}},
        {text: "xtrabackup", weight: 0.025, link: {href: "/tag/xtrabackup.html"}},
        {text: "function call", weight: 0.0125, link: {href: "/tag/function-call.html"}},
        {text: "arm", weight: 0.0125, link: {href: "/tag/arm.html"}},
        {text: "matrix", weight: 0.0125, link: {href: "/tag/matrix.html"}},
        {text: "cpu ring", weight: 0.0125, link: {href: "/tag/cpu-ring.html"}},
        {text: "metaclass", weight: 0.0125, link: {href: "/tag/metaclass.html"}},
        {text: "method", weight: 0.0125, link: {href: "/tag/method.html"}},
        {text: "assembly", weight: 0.025, link: {href: "/tag/assembly.html"}},
        {text: "stack frame", weight: 0.0125, link: {href: "/tag/stack-frame.html"}},
        {text: "zombie", weight: 0.0125, link: {href: "/tag/zombie.html"}},
        {text: "protect mode", weight: 0.0125, link: {href: "/tag/protect-mode.html"}},
        {text: "zbr", weight: 0.0125, link: {href: "/tag/zbr.html"}},
        {text: "system call", weight: 0.0125, link: {href: "/tag/system-call.html"}},
        {text: "tcp/ip", weight: 0.0125, link: {href: "/tag/tcpip.html"}},
        {text: "tls", weight: 0.0125, link: {href: "/tag/tls.html"}},
        {text: "c", weight: 0.125, link: {href: "/tag/c.html"}},
        {text: "kernel thread", weight: 0.0125, link: {href: "/tag/kernel-thread.html"}},
        {text: "thread", weight: 0.025, link: {href: "/tag/thread.html"}},
        {text: "queue", weight: 0.0125, link: {href: "/tag/queue.html"}},
        {text: "data structure", weight: 0.0375, link: {href: "/tag/data-structure.html"}},
        {text: "setuid", weight: 0.025, link: {href: "/tag/setuid.html"}},
        {text: "shuffle", weight: 0.0125, link: {href: "/tag/shuffle.html"}},
        {text: "encoding", weight: 0.0125, link: {href: "/tag/encoding.html"}},
        {text: "c/c++", weight: 0.0125, link: {href: "/tag/cc.html"}},
        {text: "float", weight: 0.0125, link: {href: "/tag/float.html"}},
        {text: "chmod", weight: 0.025, link: {href: "/tag/chmod.html"}},
        {text: "vim", weight: 0.0125, link: {href: "/tag/vim.html"}},
        {text: "sourcelist", weight: 0.0125, link: {href: "/tag/sourcelist.html"}},
        {text: "linux", weight: 0.175, link: {href: "/tag/linux.html"}},
        {text: "ring", weight: 0.0125, link: {href: "/tag/ring.html"}},
        {text: "callstack", weight: 0.0125, link: {href: "/tag/callstack.html"}},
        {text: "debian", weight: 0.0125, link: {href: "/tag/debian.html"}},
        {text: "type", weight: 0.0125, link: {href: "/tag/type.html"}},
        {text: "sort", weight: 0.0125, link: {href: "/tag/sort.html"}},
        {text: "masscan", weight: 0.0125, link: {href: "/tag/masscan.html"}},
        {text: "btrfs", weight: 0.0125, link: {href: "/tag/btrfs.html"}},
        {text: "gas", weight: 0.0125, link: {href: "/tag/gas.html"}},
        {text: "user thread", weight: 0.0125, link: {href: "/tag/user-thread.html"}},
        {text: "c3", weight: 0.0125, link: {href: "/tag/c3.html"}},
        {text: "compile", weight: 0.0125, link: {href: "/tag/compile.html"}},
        {text: "descriptor", weight: 0.0125, link: {href: "/tag/descriptor.html"}},
        {text: "hdd", weight: 0.0125, link: {href: "/tag/hdd.html"}},
        {text: "setresuid", weight: 0.0125, link: {href: "/tag/setresuid.html"}},
        {text: "str", weight: 0.025, link: {href: "/tag/str.html"}},
        {text: "cisc", weight: 0.0125, link: {href: "/tag/cisc.html"}},
        {text: "a20", weight: 0.0125, link: {href: "/tag/a20.html"}},
        {text: "shebang", weight: 0.0125, link: {href: "/tag/shebang.html"}},
        {text: "process", weight: 0.0125, link: {href: "/tag/process.html"}},
        {text: "sticky", weight: 0.0125, link: {href: "/tag/sticky.html"}},
        {text: "__init__", weight: 0.0125, link: {href: "/tag/__init__.html"}},
        {text: "latency", weight: 0.0125, link: {href: "/tag/latency.html"}},
        {text: "gcd", weight: 0.0125, link: {href: "/tag/gcd.html"}},
        {text: "utf-8", weight: 0.0125, link: {href: "/tag/utf-8.html"}},
        {text: "fs", weight: 0.0125, link: {href: "/tag/fs.html"}},
        {text: "x86", weight: 0.025, link: {href: "/tag/x86.html"}},
        {text: "quote", weight: 0.0125, link: {href: "/tag/quote.html"}},
        {text: "class", weight: 0.0125, link: {href: "/tag/class.html"}},
        {text: "mangling", weight: 0.0125, link: {href: "/tag/mangling.html"}},
        {text: "stack", weight: 0.0125, link: {href: "/tag/stack.html"}},
        {text: "getuid", weight: 0.0125, link: {href: "/tag/getuid.html"}},
        {text: "algorithm", weight: 0.275, link: {href: "/tag/algorithm.html"}},
        {text: "line join", weight: 0.0125, link: {href: "/tag/line-join.html"}},
        {text: "register", weight: 0.0125, link: {href: "/tag/register.html"}},
        {text: "mro", weight: 0.0125, link: {href: "/tag/mro.html"}},
        ];
        $(function() {
            $("#tag-cloud").jQCloud(word_list);
        });
    </script>

</head>

<body>

<!-- Nav Bar -->
<nav>
<div class="top-bar">
<div class="row">
    <div class="large-9 large-centered columns">
	    <h1><a href="..">记录一些工作中的笔记</a></h1>
    </div>
</div>
</div>

<!-- Show menu items and pages -->
<div class="row">
<div class="large-9 columns">
    <ul class="button-group navigation">

    </ul>
</div>
</div>
</nav>
<!-- End Nav -->


<!-- Main Page Content and Sidebar -->
<div class="row">

    <!-- Main Blog Content -->
    <div class="large-9 columns">
        
        


            <article>
                <a href="../posts/misc/linker-and-loader.html"><h3 class="article-title">链接器(linker)和加载器(loader)</h3></a>
<h6 class="subheader" title="2014-09-22T22:57:04">Mon 22 September 2014
</h6>


<h4>refer:</h4>
<ul>
<li>http://www.linuxjournal.com/article/6463</li>
<li>http://www.linuxjournaldigital.com/linuxjournal/201109#pg77</li>
<li>http://en.wikipedia.org/wiki/Relocation_(computing)</li>
<li>http://read.pudn.com/downloads56/ebook/196880/lnl_7_coly.pdf</li>
<li>http://www.yeolar.com/note/2012/03/20/linux-linking/</li>
<li>http://www.cnblogs.com/zhanjl/p/3273014.html</li>
<li>http://blog.csdn ...</li></ul><p class="subheader">Category: <a href="../category/misc.html">misc</a>

</p>



                <a class="button radius secondary small right" href="../posts/misc/linker-and-loader.html">Read More</a>
                <hr  class="gradient"/>
            </article>

        


            <article>
                <a href="../posts/misc/tls.html"><h3 class="article-title">线程局部存储(thread local storage)</h3></a>
<h6 class="subheader" title="2014-09-22T00:00:00">Mon 22 September 2014
</h6>


<p>refer:</p>
<ul>
<li>http://www.akkadia.org/drepper/tls.pdf</li>
<li>http://stackoverflow.com/questions/6611346/amd64-fs-gs-registers-in-linux</li>
</ul><p class="subheader">Category: <a href="../category/misc.html">misc</a>

    Tagged: 
    <a href="../tag/tls.html">tls </a>
    <a href="../tag/thread.html">thread </a>
    <a href="../tag/linux.html">linux </a>
</p>



                <a class="button radius secondary small right" href="../posts/misc/tls.html">Read More</a>
                <hr  class="gradient"/>
            </article>

        


            <article>
                <a href="../posts/misc/segment-in-linux.html"><h3 class="article-title">Linux 段机制的实现</h3></a>
<h6 class="subheader" title="2014-09-21T21:48:26">Sun 21 September 2014
</h6>


<p class="subheader">Category: <a href="../category/misc.html">misc</a>

</p>



                <a class="button radius secondary small right" href="../posts/misc/segment-in-linux.html">Read More</a>
                <hr  class="gradient"/>
            </article>

        


            <article>
                <a href="../posts/misc/real-vs-protect.html"><h3 class="article-title">x86实模式(real mode)和保护模式(protect mode)</h3></a>
<h6 class="subheader" title="2014-09-21T21:00:00">Sun 21 September 2014
</h6>


<h3>8086</h3>
<p>1978年intel发布了8086 16-bit cpu, 20位地址总线, 最大可寻址$2^{20}$ = 1M, 同时引入了一个非常重要的概念----段, 以支持20位的地址总线。</p>
<p>为了支持分段机制，Intel在8086的CPU里新增了4个段寄存器: CS, DS, SS, ES. 寻址方法是：segment:offset, 物理地址 = 段地址 * 0x10 + 偏移地址.  8086的诞生标志着Intel 正式进入了x86时代. 段机制虽然实现了地址空间的提升, 但是也带来的一些问题:  </p>
<ul>
<li>同一个物理地址有多种表示方法, 例如0x01C0:0x0000和0x0000:0x1C00所表示的物理地址都是0x01C00。</li>
<li>地址空间缺乏保护机制</li>
</ul>
<h3>80286及80386</h3>
<p>由于8086的上述问题，1982年Intel在80286的CPU里首次引入的保护模式。同时为了保持向后兼容8086, 80286支持实模式, 在实模式下工作方式跟8086相同, 寻址方式依然是: segment:offset. 支持保护模式的x86启动时工作在实模式下, Protected mode may only be entered after ...</p><p class="subheader">Category: <a href="../category/misc.html">misc</a>

    Tagged: 
    <a href="../tag/real-mode.html">real mode </a>
    <a href="../tag/protect-mode.html">protect mode </a>
    <a href="../tag/gdt.html">gdt </a>
    <a href="../tag/ldt.html">ldt </a>
    <a href="../tag/cpu-ring.html">cpu ring </a>
    <a href="../tag/ring.html">ring </a>
    <a href="../tag/x86.html">x86 </a>
</p>



                <a class="button radius secondary small right" href="../posts/misc/real-vs-protect.html">Read More</a>
                <hr  class="gradient"/>
            </article>

        


            <article>
                <a href="../posts/misc/register.html"><h3 class="article-title">x86 register</h3></a>
<h6 class="subheader" title="2014-09-21T20:00:00">Sun 21 September 2014
</h6>


<h3>数据寄存器</h3>
<p>8086 有8个8位数据寄存器，这些8位寄存器可分别组成16位寄存器:<br />
AH &amp; AL＝AX(accumulator register):累加寄存器，常用于运算 <br />
BH &amp; BL＝BX(base register):基址寄存器，常用于地址索引 <br />
CH &amp; CL＝CX(count register):计数寄存器，常用于计数 <br />
DH &amp; DL＝DX(data register):数据寄存器，常用于数据传递。  </p>
<h3>段寄存器</h3>
<p>8086设定了4个段寄存器，专门用来保存段地址, 386及以后保护模式下用来保存段选择器(segment selector), 但是仍是16位:<br />
CS(Code Segment):代码段寄存器 <br />
DS(Data Segment):数据段寄存器 <br />
SS(Stack Segment ...</p><p class="subheader">Category: <a href="../category/misc.html">misc</a>

    Tagged: 
    <a href="../tag/register.html">register </a>
    <a href="../tag/assembly.html">assembly </a>
</p>



                <a class="button radius secondary small right" href="../posts/misc/register.html">Read More</a>
                <hr  class="gradient"/>
            </article>

        


            <article>
                <a href="../posts/misc/assembly.html"><h3 class="article-title">assembly</h3></a>
<h6 class="subheader" title="2014-09-21T15:00:00">Sun 21 September 2014
</h6>


<h3>语法格式</h3>
<p>绝大多数 Linux 程序员以前只接触过DOS/Windows 下的汇编语言，这些汇编代码都是 Intel 风格的。但在 Unix 和 Linux 系统中，更多&gt;采用的还是 AT&amp;T 格式，两者在语法格式上有着很大的不同：</p>
<ul>
<li>在 AT&amp;T 汇编格式中，寄存器名要加上 '%' 作为前缀；而在 Intel 汇编格式中，寄存器名不需要加前缀</li>
<li>在 AT&amp;T 汇编格式中，用 '$' 前缀表示一个立即操作数；而在 Intel 汇编格式中，立即数的表示不用带任何前缀</li>
<li>AT&amp;T 和 Intel 格式中的源操作数和目标操作数的位置正好相反。在 Intel 汇编格式中，目标操作数在源操作数的左边；而在 ...</li></ul><p class="subheader">Category: <a href="../category/misc.html">misc</a>

    Tagged: 
    <a href="../tag/assembly.html">assembly </a>
    <a href="../tag/gas.html">gas </a>
</p>



                <a class="button radius secondary small right" href="../posts/misc/assembly.html">Read More</a>
                <hr  class="gradient"/>
            </article>

        


            <article>
                <a href="../posts/misc/a20-gate.html"><h3 class="article-title">a20gate</h3></a>
<h6 class="subheader" title="2014-09-21T00:00:00">Sun 21 September 2014
</h6>


<h3>real mode 模式寻址</h3>
<p>8086/8088 的地址线有 20 条: A0 ~ A19, 最大可以访问1M内存. 它的寻址方法是：segment:offset，这是一种被称为 logic address（逻辑地址）表示法. 物理地址 = 段地址 * 0x10 + 偏移地址。F000:FFFF = F0000 + FFFF = FFFFF，这是 8086/8088 所能访问的最高地址。8086/8088 的寻址范围是可以表示为：从 0000:0000 - 0000:FFFF,0000:0000 - 1000:FFFF, ... ,F000:0000 - F000:FFFF 段</p>
<h3>访问 ...</h3><p class="subheader">Category: <a href="../category/misc.html">misc</a>

    Tagged: 
    <a href="../tag/a20.html">a20 </a>
    <a href="../tag/real-mode.html">real mode </a>
</p>



                <a class="button radius secondary small right" href="../posts/misc/a20-gate.html">Read More</a>
                <hr  class="gradient"/>
            </article>

        


            <article>
                <a href="../posts/tcp-ip/ip.html"><h3 class="article-title">IP地址及子网掩码</h3></a>
<h6 class="subheader" title="2014-09-19T15:00:00">Fri 19 September 2014
</h6>


<h3>IP地址得表示方法</h3>
<p>IP地址是一个32位的二进制数，通常被分割为4个“8位二进制数”（也就是4个字节）用“点分十进制”表示成（a.b.c.d）的形式，其中，a,b,c,d都是0~255之间的十进制整数。</p>
<p>最初设计互联网络时，为了便于寻址以及层次化构造网络，每个IP地址包括两个标识码（ID），即网络ID和主机ID。同一个物理网络上的所有主机都使用同一个网络ID，网络上的一个主机（包括网络上工作站，服务器和路由器等）有一个主机ID与其对应。分类:  </p>
<ul>
<li>A类地址: 网络标识由第一组8位二进制数表示，网络标识的第一位二进制数取值必须为0。A类地址第一个地址为00000001，最后一个地址是01111111，换算成十进制就是127，其中127留作保留地址，A类地址的第一段范围是：1～126，A类地址允许有$2^7$ - 2 = 126个网段（减2是因为0不用，127留作它用），网络中的主机标识占3组8位二进制数，每个网络允许有$2 ...</li></ul><p class="subheader">Category: <a href="../category/tcp-ip.html">tcp-ip</a>

    Tagged: 
    <a href="../tag/tcpip.html">tcp/ip </a>
</p>



                <a class="button radius secondary small right" href="../posts/tcp-ip/ip.html">Read More</a>
                <hr  class="gradient"/>
            </article>

        


            <article>
                <a href="../posts/misc/fs.html"><h3 class="article-title">linux文件系统</h3></a>
<h6 class="subheader" title="2014-09-16T00:00:00">Tue 16 September 2014
</h6>


<p>http://www.cnblogs.com/chinacloud/archive/2011/02/16/1955910.html</p><p class="subheader">Category: <a href="../category/misc.html">misc</a>

    Tagged: 
    <a href="../tag/linux.html">linux </a>
    <a href="../tag/fs.html">fs </a>
    <a href="../tag/btrfs.html">btrfs </a>
    <a href="../tag/ext4.html">ext4 </a>
</p>



                <a class="button radius secondary small right" href="../posts/misc/fs.html">Read More</a>
                <hr  class="gradient"/>
            </article>

        


            <article>
                <a href="../posts/misc/orphan-process-and-zombie-process.html"><h3 class="article-title">linux 僵尸(zombie)进程和孤儿(orphan)进程</h3></a>
<h6 class="subheader" title="2014-09-12T00:00:00">Fri 12 September 2014
</h6>


<h3>Zombie Processes</h3>
<p>In Unix and Linux systems, the zombie (or defunct) process is a process that has completed execution but still has an entry in the process table, it is a process in the <a href="http://en.wikipedia.org/wiki/Process_state">Terminated state</a>. A zombie process remains in the operating system and does nothing until the parent ...</p><p class="subheader">Category: <a href="../category/misc.html">misc</a>

    Tagged: 
    <a href="../tag/linux.html">linux </a>
    <a href="../tag/zombie.html">zombie </a>
    <a href="../tag/orphan.html">orphan </a>
    <a href="../tag/process.html">process </a>
</p>



                <a class="button radius secondary small right" href="../posts/misc/orphan-process-and-zombie-process.html">Read More</a>
                <hr  class="gradient"/>
            </article>

        


            <article>
                <a href="../posts/c/daemon.html"><h3 class="article-title">daemon进程c实现</h3></a>
<h6 class="subheader" title="2014-09-11T00:00:00">Thu 11 September 2014
</h6>


<h3>守护进程(daemon process)特点</h3>
<ul>
<li>PPID 为 1</li>
<li>控制终端(TTY, Teletypes) 为"?"</li>
<li>守护进程必须与其运行前的环境隔离开来，包括未关闭的文件描述符，控制终端，会话，工作目录，以及umask等。这些都是从父进程继承过来的。</li>
</ul>
<h3>创建守护进程的步骤</h3>
<ul>
<li>fork创建子进程, 父进程退出</li>
<li>调用setsid() 创建新会话</li>
<li>再次fork，父进程退出</li>
<li>将当前工作目录改为根目录</li>
<li>设定uamsk值为0</li>
<li>关闭不必要的文件描述符</li>
<li>打开/dev/null，dup2(0, 1, 2)</li>
</ul>
<h3>代码示例</h3>
<div class="highlight"><pre><span class="cp"># include &lt;unistd.h&gt;</span>

<span class="kt">int</span> <span class="nf">daemonize</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span>  <span class="n">fd</span><span class="p">;</span>

    <span class="k">switch</span> <span class="p">(</span><span class="n">fork</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">-</span><span class="mi">1</span>:
        <span class="c1">//log_error(NGX_LOG_EMERG ...</span></pre></div><p class="subheader">Category: <a href="../category/c.html">c</a>

    Tagged: 
    <a href="../tag/linux.html">linux </a>
    <a href="../tag/daemon.html">daemon </a>
    <a href="../tag/c.html">c </a>
</p>



                <a class="button radius secondary small right" href="../posts/c/daemon.html">Read More</a>
                <hr  class="gradient"/>
            </article>

        


            <article>
                <a href="../posts/algorithm/gcd.html"><h3 class="article-title">最大公约数算法(Greatest Common Divisor)</h3></a>
<h6 class="subheader" title="2014-09-06T00:00:00">Sat 06 September 2014
</h6>


<p>公元前300年左右, 欧几里得(Euclid)就在他的著作&lt;几何原本&gt;中给出了--辗转相除法. 原理是:假设用f(x, y)表示x, y的最大公约数, 取$k=\frac{x/y}, x =ky + b$, 如果一个数能同时整除x,y, 则必能同时被b, y整除. 而能同时被b, y整除则能同时整除x,y, 即b, y的公约数与x, y的公约数相同, 最大公约数也相同, 则有f(x, y) = f(y, x%y) (x &gt;= y &gt;= 0), 如此便把愿问题转化为求两个更小的数的最大公约数, 直到其中一个为0, 剩下的一个就是两者的最大公约数.</p>
<h3>解法一</h3>
<p>最简单的办法就是直接实现辗转相除法</p>
<div class="highlight"><pre><span class="cp"># O(log n)</span>
<span class="kt">int ...</span></pre></div><p class="subheader">Category: <a href="../category/algorithm.html">algorithm</a>

    Tagged: 
    <a href="../tag/algorithm.html">algorithm </a>
    <a href="../tag/gcd.html">gcd </a>
</p>



                <a class="button radius secondary small right" href="../posts/algorithm/gcd.html">Read More</a>
                <hr  class="gradient"/>
            </article>

        


            <article>
                <a href="../posts/algorithm/random-pick.html"><h3 class="article-title">随机选取</h3></a>
<h6 class="subheader" title="2014-09-05T00:00:00">Fri 05 September 2014
</h6>


<p class="subheader">Category: <a href="../category/algorithm.html">algorithm</a>

    Tagged: 
    <a href="../tag/algorithm.html">algorithm </a>
    <a href="../tag/random.html">random </a>
    <a href="../tag/c.html">c </a>
</p>



                <a class="button radius secondary small right" href="../posts/algorithm/random-pick.html">Read More</a>
                <hr  class="gradient"/>
            </article>

        


            <article>
                <a href="../posts/algorithm/random-range.html"><h3 class="article-title">随机数范围</h3></a>
<h6 class="subheader" title="2014-09-05T00:00:00">Fri 05 September 2014
</h6>


<h3>缩小范围</h3>
<div class="highlight"><pre><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">fac</span> <span class="o">=</span> <span class="p">(</span><span class="n">RAND_MAX</span> <span class="o">+</span> <span class="mi">1u</span><span class="p">)</span> <span class="o">/</span> <span class="n">N</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">limit</span> <span class="o">=</span> <span class="n">fac</span> <span class="o">*</span> <span class="n">N</span><span class="p">;</span>
<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">r</span><span class="p">;</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">rand</span><span class="p">();</span>
<span class="p">}</span> <span class="k">while</span><span class="p">(</span><span class="n">r</span> <span class="o">&gt;=</span> <span class="n">limit</span><span class="p">);</span>
<span class="k">return</span> <span class="n">r</span> <span class="o">/</span> <span class="n">fac</span><span class="p">;</span>
</pre></div>


<h3>扩大范围</h3>
<blockquote>
<p>rand()产生1~7之间的随机数，如何用rand()函数产生1~10之间的随机数</p>
</blockquote>
<p>扩大范围的处理是先用类似(rand7()-1)*7+rand7()) 构造一个大范围，然后在缩小范围处理.</p>
<div class="highlight"><pre><span class="c1">// 循环实现 </span>
<span class="k">int</span> <span class="n">rand10</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">int</span> <span class="n">fac</span> <span class="o">=</span> <span class="mh">49</span> <span class="o">/</span> <span class="mh">10</span><span class="p">;</span>
    <span class="k">int</span> <span class="n">limit</span> <span class="o">=</span> <span class="n">fac</span> <span class="o">*</span> <span class="mh">10</span><span class="p">;</span>
    <span class="k">int ...</span></pre></div><p class="subheader">Category: <a href="../category/algorithm.html">algorithm</a>

    Tagged: 
    <a href="../tag/algorithm.html">algorithm </a>
    <a href="../tag/random.html">random </a>
    <a href="../tag/c.html">c </a>
</p>



                <a class="button radius secondary small right" href="../posts/algorithm/random-range.html">Read More</a>
                <hr  class="gradient"/>
            </article>

        


            <article>
                <a href="../posts/algorithm/shuffle.html"><h3 class="article-title">洗牌算法之Knuth Shuffle</h3></a>
<h6 class="subheader" title="2014-09-05T00:00:00">Fri 05 September 2014
</h6>


<p>算法描述:</p>
<blockquote>
<p>Let X1, X2…. XN be the set of N numbers to be shuffled.</p>
<p>Set j to N<br />
Generate a random number R. (uniformly distributed between 0 and 1)<br />
Set k to (jR+1). k is now a random integer, between 1 and j.<br />
Exchange Xk and Xj<br />
Decrease j ...</p></blockquote><p class="subheader">Category: <a href="../category/algorithm.html">algorithm</a>

    Tagged: 
    <a href="../tag/algorithm.html">algorithm </a>
    <a href="../tag/random.html">random </a>
    <a href="../tag/shuffle.html">shuffle </a>
</p>



                <a class="button radius secondary small right" href="../posts/algorithm/shuffle.html">Read More</a>
                <hr  class="gradient"/>
            </article>

            <!-- /#posts-list -->
<div class="pagination-centered">
<h6 class="subheader">Page 3 of 7</h6>

<p>
            <a href="../author/actberw2.html">&laquo; Prev</a>

        <a href="../author/actberw4.html">Next &raquo;</a>
</p>
</div>

    </div>
    <!-- End Main Content -->

    <!-- Sidebar -->
    <aside class="large-3 columns">
    <!-- <h5 class="sidebar-title">Site</h5>
        <ul class="side-nav">
            <li><a href="../archives.html">Archives</a>
            <li><a href="../tags.html">Tags</a>
    </ul> -->

        <h5 class="sidebar-title">Tags</h5>
	<div id="tag-cloud" style="with: 25%; height: 245px;"></div>

		
        <h5 class="sidebar-title">Categories</h5>
        <ul class="side-nav">
            <li><a href="../category/adt.html">adt</a></li>
            <li><a href="../category/algorithm.html">algorithm</a></li>
            <li><a href="../category/c.html">c</a></li>
            <li><a href="../category/complexity.html">complexity</a></li>
            <li><a href="../category/coroutine.html">coroutine</a></li>
            <li><a href="../category/interview.html">interview</a></li>
            <li><a href="../category/learn-plan.html">learn-plan</a></li>
            <li><a href="../category/misc.html">misc</a></li>
            <li><a href="../category/mysql.html">mysql</a></li>
            <li><a href="../category/python.html">python</a></li>
            <li><a href="../category/security.html">security</a></li>
            <li><a href="../category/str.html">str</a></li>
            <li><a href="../category/tcp-ip.html">tcp-ip</a></li>
            <li><a href="../category/tree.html">tree</a></li>
            <li><a href="../category/vim.html">vim</a></li>
   
        </ul>

        <h5 class="sidebar-title">Links</h5>
        <ul class="side-nav">
            <li><a href="https://github.com/actberw">github</a></li>
        </ul>
		
        <h5 class="sidebar-title">Social</h5>
        <ul class="side-nav">
            <li><a href="http://weibo.com/u/1950796544">weibo</a></li>
        </ul>

    </aside> <!-- End Sidebar -->

</div> <!-- End Main Content and Sidebar -->


<!-- Footer -->
<footer class="row">
    <div class="large-12 columns">
        <hr />
        <div class="row">
            <div class="large-6 columns">
              <!--                  <p>记录一些工作中的笔记 by actberw</p> -->
            </div>
            </div>
    </div>
</footer>